opt_out_usage

desc "Create App"
lane :create_app do
    create_app_online
end

default_platform(:ios)

platform :ios do
  desc "Push a new beta build to TestFlight"
  lane :beta do

  match(git_branch: "main", username: "HemantDixit10")
  sync_code_signing
  enable_automatic_code_signing(path: "GitHubCICD.xcodeproj")
  increment_build_number(xcodeproj: "GitHubCICD.xcodeproj")
  build_app(scheme: "GitHubCICD")
  upload_to_testflight
    
  end
end
